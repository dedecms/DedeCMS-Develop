<html>

<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>发布分类信息</title>
<link rel="icon" href="/favicon.ico" />
<!-- CSS FILES -->
<link rel="stylesheet" type="text/css" href="{dede:global.cfg_assets_dir/}/pkg/uikit/css/uikit.min.css" />
<link rel="stylesheet" type="text/css" href="{dede:global.cfg_assets_dir/}/css/manage.dede.css">
<link rel="stylesheet" type="text/css" href="{dede:global.cfg_assets_dir/}/pkg/jquery/jquery.simplecolorpicker.css">
<link rel="stylesheet" type="text/css" href="{dede:global.cfg_assets_dir/}/pkg/croppie/croppie.css">
<style type="text/css">
.uk-table td{
padding: 6px 12px;
vertical-align: top;
height: 35px;
}
.uk-card-default{
  background: none;
}
#dede-modal-card-header .uk-card-header{
  height:25px;
}  
</style>

</head>

<body>
<!-- 列表头部 -->
<div id="dede-table-header" class="uk-card uk-card-small uk-card-default" uk-sticky="bottom: #offset">
<div id="dede-card-header" class="uk-card-header">
<div class="uk-grid uk-grid-small uk-text-small">
<span><ul class="uk-breadcrumb"><li><a href="content_sg_list.php?cid=<?php echo $cid?>&channelid=<?php echo $channelid?>&dopost=listArchives"><span>分类信息</span></a></li><li>发布分类信息</li></ul></span>
</div>
</div>

</div>
<!-- /列表头部 -->

<!-- 列表主体 -->
<div class="uk-card uk-card-small uk-card-default" style="top:-20px;margin-bottom: 50px;">
<div class="uk-card-body uk-overflow-auto" grid>
<div class="uk-child-width-1-1 uk-padding">

  <select id="colorpicker" name="color">
    <option value="">#e1e1e1</option>
    <option value="#d06b64">#d06b64</option>
    <option value="#f83a22">#f83a22</option>
    <option value="#fa573c">#fa573c</option>
    <option value="#ff7537">#ff7537</option>
    <option value="#ffad46">#ffad46</option>
    <option value="#42d692">#42d692</option>
    <option value="#16a765">#16a765</option>
    <option value="#7bd148">#7bd148</option>
    <option value="#b3dc6c">#b3dc6c</option>
    <option value="#fbe983">#fbe983</option>
    <option value="#fad165">#fad165</option>
    <option value="#92e1c0">#92e1c0</option>
    <option value="#9fe1e7">#9fe1e7</option>
    <option value="#9fc6e7">#9fc6e7</option>
    <option value="#4986e7">#4986e7</option>
    <option value="#9a9cff">#9a9cff</option>
    <option value="#b99aff">#b99aff</option>
    <option value="#c2c2c2">#c2c2c2</option>
    <option value="#cabdbf">#cabdbf</option>
    <option value="#cca6ac">#cca6ac</option>
    <option value="#f691b2">#f691b2</option>
    <option value="#cd74e6">#cd74e6</option>
    <option value="#a47ae2">#a47ae2</option>
  </select>

  
  <div uk-form-custom>
    <input type="file" id="upload"  accept="image/*">
    <img id="codeimg" src="/ss"  />
  </div>


</div>
</div>
</div>
<!-- 列表底部 -->
<div class="bar-bottom uk-flex uk-light uk-flex-right">
<div class="uk-button-group" style="margin-left: 50px;">
</div>
<div class="e1e02">Copyright &copy; 2007-2020 <a href='http://www.dedecms.com' target='_blank'><u>DedeCMS</u></a>, 上海卓卓网络科技有限公司 (DesDev, Inc.)</div>
</div>

<!-- 列表底部 -->

<div id="modal-overflow" uk-modal>
<div class="uk-modal-dialog">

  <div id="dede-modal-card-header" class="uk-card uk-card-default" >
    <button class="uk-modal-close-default" type="button" uk-close></button>
    <div class="uk-card-header">
     <span style="margin-top:4px;">图片剪切</span>
    </div>
    <div class="uk-card-body" style="background-color:#242A2F;" >
      <div id="image-cropper"></div>
    </div>
    <div class="uk-card-footer">
      <button class="upload-result">Result</button>
      <button class="upload-3-4">3:4</button>
      <button class="upload-4-3">4:3</button>
      <button class="upload-16-9">16:9</button>
      <button class="upload-1-1">1:1</button>
    </div>
</div>
</div>
</div>


<!-- JS FILES -->
<script src="{dede:global.cfg_assets_dir/}/pkg/uikit/js/uikit.min.js"></script>
<script src="{dede:global.cfg_assets_dir/}/pkg/uikit/js/uikit-icons.min.js"></script>
<script src="{dede:global.cfg_assets_dir/}/pkg/jquery/jquery.min.js"></script>
<script src="{dede:global.cfg_assets_dir/}/js/dede.manage.min.js"></script>
<script src="{dede:global.cfg_assets_dir/}/pkg/jquery/jquery.simplecolorpicker.js"></script>
<script src="{dede:global.cfg_assets_dir/}/pkg/croppie/croppie.min.js"></script>

<script language="javascript">
$(document).ready(function() {

$('select[id="colorpicker"]').simplecolorpicker({picker: true, theme: 'glyphicons'});

// upload_image = new Croppie(vEl, {
// 			viewport: { width: 200, height: 250 },
// 			boundary: { width: 600, height: 300 },
// 		});


$uploadCrop = $('#image-cropper').croppie({
  viewport: { width: 188, height: 250 },
	boundary: { width: 600, height: 300 },
});

$('#upload').on('change', function () {  
   UIkit.modal("#modal-overflow").show();
   readFile(this);
 });





$('.upload-3-4').on('click', function () {  
// $uploadCrop.setViewPort('300','450');
  $uploadCrop.croppie('setView','200','267');

 });
$('.upload-4-3').on('click', function () {  
// $uploadCrop.setViewPort('300','450');
  $uploadCrop.croppie('setView','267','200');

 });
$('.upload-16-9').on('click', function () {  
// $uploadCrop.setViewPort('300','450');
  $uploadCrop.croppie('setView','356','200');

 });
$('.upload-1-1').on('click', function () {  
// $uploadCrop.setViewPort('300','450');
  $uploadCrop.croppie('setView','200','200');

 });


$('.upload-result').on('click', function (ev) {
			$uploadCrop.croppie('result', {
				type: 'canvas',
				size: 'viewport'
			}).then(function (resp) {
        $("#codeimg").attr('src', resp);
        $("#upload").attr('value', resp);
        UIkit.modal("#modal-overflow").hide();
			});
		});

});

function readFile(input) {
  if (input.files && input.files[0]) {
          var reader = new FileReader();
          
          reader.onload = function (e) {
            $uploadCrop.croppie('bind', {
              url: e.target.result
            }).then(function(){
              $("#upload").val('');
            });
            
          }
          reader.readAsDataURL(input.files[0]);
      }
}


</script>

<!-- / JS FILES -->
</body>
</html>



